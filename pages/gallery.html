
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Museum Network</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
        }
        
        #canvas-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        .info-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-width: 350px;
            z-index: 10;
        }
        
        .info-panel h1 {
            font-size: 1.5em;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .info-panel p {
            color: #7f8c8d;
            line-height: 1.6;
            font-size: 0.9em;
            margin-bottom: 15px;
        }
        
        .legend {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 10;
            max-width: 250px;
        }
        
        .legend-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 12px;
            font-size: 1.1em;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            font-size: 0.9em;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .controls {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 10;
            font-size: 0.85em;
            color: #7f8c8d;
        }
        
        .artifact-detail {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.98);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 15;
            max-width: 400px;
            display: none;
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .artifact-detail.visible {
            display: block;
            animation: slideUp 0.3s ease-out;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .artifact-detail h2 {
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 1.4em;
        }
        
        .artifact-type {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            margin-bottom: 15px;
            color: white;
        }
        
        .artifact-detail .section {
            margin-bottom: 15px;
        }
        
        .artifact-detail .section-title {
            font-weight: bold;
            color: #34495e;
            margin-bottom: 5px;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .artifact-detail .section-content {
            color: #555;
            line-height: 1.6;
            font-size: 0.95em;
        }
        
        .artifact-image {
            width: 100%;
            height: 150px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
        }
        
        .connections-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }
        
        .connection-badge {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.75em;
            color: white;
            font-weight: 500;
        }
        
        .close-detail {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #e74c3c;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            line-height: 1;
            transition: transform 0.2s;
        }
        
        .close-detail:hover {
            transform: scale(1.1);
        }
        
        .color-code {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
        }
        
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <div id="canvas-container"></div>
    
    <div class="info-panel">
        <h1>üåê Reframing Collections</h1>
        <p>This 3D network shows how museum objects connect through multiple dimensions‚Äîmaterials, techniques, themes, cultural practices, and geography.</p>
        <p><strong>Click any object</strong> to see detailed information and its cultural connections.</p>
        <p style="font-size: 0.85em; margin-top: 10px;"><strong>Drag:</strong> Rotate ‚Ä¢ <strong>Scroll:</strong> Zoom</p>
    </div>
    
    <div class="legend">
        <div class="legend-title">Connection Types</div>
        <div class="legend-item">
            <div class="legend-color" style="background: #3498db;"></div>
            <span>Materials</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #e74c3c;"></div>
            <span>Techniques</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #2ecc71;"></div>
            <span>Themes</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #f39c12;"></div>
            <span>Cultural Practices</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #9b59b6;"></div>
            <span>Geography</span>
        </div>
    </div>
    
    <div class="artifact-detail" id="artifactDetail">
        <button class="close-detail" onclick="closeDetail()">√ó</button>
        <div id="detailContent"></div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        let scene, camera, renderer, nodes = [], lines = [];
        let isDragging = false;
        let previousMousePosition = { x: 0, y: 0 };
        
        const artifactDetails = {
            0: {
                name: "Jade Buddha Statue",
                emoji: "üóø",
                period: "Tang Dynasty (618-907 CE)",
                origin: "Chang'an (modern Xi'an), China",
                material: "Nephrite Jade",
                colorCode: "blue",
                description: "This serene Buddha figure exemplifies the Tang Dynasty's mastery of jade carving. The translucent green stone was sourced from the Kunlun Mountains and carved using traditional techniques passed down for centuries.",
                culturalContext: "Buddhism reached its zenith during the Tang Dynasty. This statue would have been used in private devotional practices by wealthy merchants along the Silk Road.",
                connections: ["Jade (Material)", "Carving (Technique)", "Spirituality (Theme)", "Ritual (Practice)", "Silk Road (Trade Route)"],
                dimensions: "Height: 15cm, Weight: 2.3kg",
                significance: "Represents the fusion of Indian Buddhist iconography with Chinese aesthetic sensibilities and jade-working traditions."
            },
            1: {
                name: "Bronze Ritual Vessel (Ding)",
                emoji: "‚ö±Ô∏è",
                period: "Shang Dynasty (1600-1046 BCE)",
                origin: "Anyang, Henan Province, China",
                material: "Bronze (copper-tin alloy)",
                colorCode: "green",
                description: "This three-legged ritual vessel features intricate taotie (mythical creature) designs. Used in ancestral ceremonies to hold food offerings, it demonstrates the sophisticated bronze-casting techniques of ancient China.",
                culturalContext: "During the Shang Dynasty, bronze vessels were symbols of power and status. They were essential in ritual ceremonies connecting the living with their ancestors and the spirit world.",
                connections: ["Bronze (Material)", "Casting (Technique)", "Power (Theme)", "Ritual (Practice)", "River Valley (Yellow River)"],
                dimensions: "Height: 28cm, Diameter: 22cm",
                significance: "One of the earliest examples of piece-mold bronze casting, a uniquely Chinese innovation that enabled complex decorative patterns."
            },
            2: {
                name: "Silk Narrative Scroll",
                emoji: "üìú",
                period: "Song Dynasty (960-1279 CE)",
                origin: "Hangzhou, Zhejiang Province, China",
                material: "Silk, natural pigments, gold leaf",
                colorCode: "orange",
                description: "A hand-painted silk scroll depicting scenes from daily life in a bustling market town. The intricate detail shows merchants, travelers, and artisans, offering a window into Song Dynasty urban culture.",
                culturalContext: "The Song Dynasty saw unprecedented economic growth and urbanization. This scroll documents the vibrant commercial culture that emerged, including international trade networks.",
                connections: ["Silk (Material)", "Weaving & Painting (Technique)", "Daily Life (Theme)", "Trade (Practice)", "Maritime Routes (East China Sea)"],
                dimensions: "Length: 3.2m, Width: 35cm",
                significance: "Demonstrates the technical mastery of silk production and the importance of visual narrative in documenting social history."
            },
            3: {
                name: "Celadon Ceramic Bowl",
                emoji: "ü•£",
                period: "Goryeo Dynasty (918-1392 CE)",
                origin: "Gangjin, Korea",
                material: "Porcelain with celadon glaze",
                colorCode: "blue",
                description: "This bowl features the signature jade-green celadon glaze that Goryeo artisans perfected. The subtle inlaid crane design represents longevity and peace, common motifs in Korean ceramics.",
                culturalContext: "Celadon was so prized that it was traded throughout East Asia and even reached the Middle East via maritime trade routes. Korean celadon was considered superior even to Chinese examples.",
                connections: ["Porcelain (Material)", "Glazing (Technique)", "Daily Life (Theme)", "Tea Ceremony (Practice)", "Maritime Trade (Yellow Sea)"],
                dimensions: "Diameter: 18cm, Height: 7cm",
                significance: "Represents the pinnacle of Korean ceramic art and demonstrates cultural exchange between Korea, China, and Japan."
            },
            4: {
                name: "Lacquered Wood Noh Mask",
                emoji: "üé≠",
                period: "Edo Period (1603-1868)",
                origin: "Kyoto, Japan",
                material: "Cypress wood, natural lacquer, pigments",
                colorCode: "yellow",
                description: "This theatrical mask represents a young woman character (ko-omote) used in Noh drama. Multiple layers of urushi lacquer create the smooth, luminous surface that brings the character to life on stage.",
                culturalContext: "Noh theater emerged from religious ritual performances and became refined entertainment for the samurai class. Each mask type has specific meanings and emotional expressions.",
                connections: ["Wood & Lacquer (Material)", "Carving & Lacquering (Technique)", "Ceremony (Practice)", "Spirituality (Theme)", "Cultural Exchange (Japan-China techniques)"],
                dimensions: "Height: 21cm, Width: 14cm",
                significance: "Demonstrates the Japanese mastery of lacquerwork and the deep connection between performance, spirituality, and artistic expression."
            }
        };
        
        const nodeData = [
            // Museum Objects (center cluster)
            { name: "Jade Buddha", type: "object", x: 0, y: 2, z: 0, id: 0 },
            { name: "Bronze Vessel", type: "object", x: 1, y: 1, z: -1, id: 1 },
            { name: "Silk Scroll", type: "object", x: -1, y: 0, z: 1, id: 2 },
            { name: "Ceramic Bowl", type: "object", x: 0, y: -1, z: -2, id: 3 },
            { name: "Noh Mask", type: "object", x: 2, y: 0, z: 1, id: 4 },
            
            // Material nodes
            { name: "Jade", type: "material", x: -3, y: 3, z: 2 },
            { name: "Bronze", type: "material", x: 3, y: 2, z: -1 },
            { name: "Silk", type: "material", x: -2, y: -2, z: 3 },
            
            // Technique nodes
            { name: "Carving", type: "technique", x: 4, y: 1, z: 2 },
            { name: "Casting", type: "technique", x: 3, y: -2, z: -2 },
            { name: "Weaving", type: "technique", x: -3, y: 1, z: -3 },
            
            // Theme nodes
            { name: "Spirituality", type: "theme", x: 2, y: 4, z: -2 },
            { name: "Daily Life", type: "theme", x: -4, y: 0, z: 1 },
            { name: "Power", type: "theme", x: 1, y: -3, z: 3 },
            
            // Cultural Practice nodes
            { name: "Ritual", type: "cultural", x: -2, y: 3, z: -2 },
            { name: "Trade", type: "cultural", x: 3, y: 3, z: 1 },
            { name: "Ceremony", type: "cultural", x: -1, y: -4, z: 0 },
            
            // Geography nodes
            { name: "Silk Road", type: "geography", x: 4, y: -1, z: -3 },
            { name: "Maritime Route", type: "geography", x: -4, y: -2, z: -1 },
            { name: "River Valley", type: "geography", x: 2, y: -2, z: 4 }
        ];
        
        const connections = [
            [0, 5], [0, 11], [0, 13], [0, 16], // Jade Buddha
            [1, 6], [1, 9], [1, 14], [1, 18], // Bronze Vessel
            [2, 7], [2, 10], [2, 15], [2, 17], // Silk Scroll
            [3, 12], [3, 8], [3, 18], // Ceramic Bowl
            [4, 13], [4, 8], [4, 16], // Noh Mask
            [5, 8], [6, 9], [7, 10],
            [11, 13], [12, 15], [14, 16],
            [16, 17], [15, 18], [14, 19]
        ];
        
        function init() {
            const container = document.getElementById('canvas-container');
            
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x0f2027, 10, 50);
            
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 12;
            camera.position.y = 3;
            
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x0f2027, 1);
            container.appendChild(renderer.domElement);
            
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            
            const pointLight1 = new THREE.PointLight(0xffffff, 0.8);
            pointLight1.position.set(10, 10, 10);
            scene.add(pointLight1);
            
            const pointLight2 = new THREE.PointLight(0x667eea, 0.5);
            pointLight2.position.set(-10, -10, -10);
            scene.add(pointLight2);
            
            createNodes();
            createConnections();
            
            renderer.domElement.addEventListener('mousedown', onMouseDown);
            renderer.domElement.addEventListener('mousemove', onMouseMove);
            renderer.domElement.addEventListener('mouseup', onMouseUp);
            renderer.domElement.addEventListener('wheel', onWheel);
            renderer.domElement.addEventListener('click', onClick);
            
            window.addEventListener('resize', onWindowResize);
            
            animate();
        }
        
        function getColorForType(type) {
            const colors = {
                material: 0x3498db,
                technique: 0xe74c3c,
                theme: 0x2ecc71,
                cultural: 0xf39c12,
                geography: 0x9b59b6,
                object: 0xffffff
            };
            return colors[type] || 0xffffff;
        }
        
        function createNodes() {
            nodeData.forEach((data, index) => {
                const geometry = data.type === 'object' 
                    ? new THREE.SphereGeometry(0.3, 32, 32)
                    : new THREE.SphereGeometry(0.2, 32, 32);
                
                const material = new THREE.MeshPhongMaterial({
                    color: getColorForType(data.type),
                    emissive: getColorForType(data.type),
                    emissiveIntensity: 0.2,
                    shininess: 100
                });
                
                const sphere = new THREE.Mesh(geometry, material);
                sphere.position.set(data.x, data.y, data.z);
                sphere.userData = { 
                    name: data.name, 
                    type: data.type, 
                    index: index,
                    id: data.id 
                };
                
                scene.add(sphere);
                nodes.push(sphere);
                
                const glowGeometry = new THREE.SphereGeometry(
                    data.type === 'object' ? 0.35 : 0.25, 32, 32
                );
                const glowMaterial = new THREE.MeshBasicMaterial({
                    color: getColorForType(data.type),
                    transparent: true,
                    opacity: 0.2
                });
                const glow = new THREE.Mesh(glowGeometry, glowMaterial);
                sphere.add(glow);
            });
        }
        
        function createConnections() {
            connections.forEach(conn => {
                const start = nodes[conn[0]].position;
                const end = nodes[conn[1]].position;
                
                const geometry = new THREE.BufferGeometry().setFromPoints([start, end]);
                const material = new THREE.LineBasicMaterial({
                    color: 0x667eea,
                    transparent: true,
                    opacity: 0.3
                });
                
                const line = new THREE.Line(geometry, material);
                scene.add(line);
                lines.push(line);
            });
        }
        
        function onClick(e) {
            const mouse = new THREE.Vector2(
                (e.clientX / window.innerWidth) * 2 - 1,
                -(e.clientY / window.innerHeight) * 2 + 1
            );
            
            const raycaster = new THREE.Raycaster();
            raycaster.setFromCamera(mouse, camera);
            
            const intersects = raycaster.intersectObjects(nodes);
            
            if (intersects.length > 0) {
                const obj = intersects[0].object;
                if (obj.userData.type === 'object' && obj.userData.id !== undefined) {
                    showArtifactDetail(obj.userData.id);
                }
            }
        }
        
        function showArtifactDetail(id) {
            const detail = artifactDetails[id];
            if (!detail) return;
            
            const colorMap = {
                blue: '#3498db',
                green: '#2ecc71',
                orange: '#ff8c42',
                red: '#e74c3c',
                yellow: '#f1c40f'
            };
            
            const connectionColors = {
                'Material': '#3498db',
                'Technique': '#e74c3c',
                'Theme': '#2ecc71',
                'Practice': '#f39c12',
                'Trade Route': '#9b59b6',
                'Yellow River': '#9b59b6',
                'Yellow Sea': '#9b59b6',
                'East China Sea': '#9b59b6'
            };
            
            let html = `
                <div class="artifact-image">${detail.emoji}</div>
                <h2>${detail.name}</h2>
                <div class="artifact-type" style="background: ${colorMap[detail.colorCode]}">
                    <span class="color-code" style="background: ${colorMap[detail.colorCode]}"></span>
                    ${detail.colorCode.toUpperCase()} - ${detail.colorCode === 'blue' ? 'Basic Info' : detail.colorCode === 'green' ? 'Geographic Story' : detail.colorCode === 'orange' ? 'Cross-Cultural' : detail.colorCode === 'red' ? 'Rethinking' : 'Awaiting Expert Input'}
                </div>
                
                <div class="section">
                    <div class="section-title">Period & Origin</div>
                    <div class="section-content">${detail.period}<br>${detail.origin}</div>
                </div>
                
                <div class="section">
                    <div class="section-title">Material</div>
                    <div class="section-content">${detail.material}</div>
                </div>
                
                <div class="section">
                    <div class="section-title">Description</div>
                    <div class="section-content">${detail.description}</div>
                </div>
                
                <div class="section">
                    <div class="section-title">Cultural Context</div>
                    <div class="section-content">${detail.culturalContext}</div>
                </div>
                
                <div class="section">
                    <div class="section-title">Dimensions</div>
                    <div class="section-content">${detail.dimensions}</div>
                </div>
                
                <div class="section">
                    <div class="section-title">Significance</div>
                    <div class="section-content">${detail.significance}</div>
                </div>
                
                <div class="section">
                    <div class="section-title">Network Connections</div>
                    <div class="connections-list">
            `;
            
            detail.connections.forEach(conn => {
                let color = '#95a5a6';
                for (let key in connectionColors) {
                    if (conn.includes(key)) {
                        color = connectionColors[key];
                        break;
                    }
                }
                html += `<span class="connection-badge" style="background: ${color}">${conn}</span>`;
            });
            
            html += `</div></div>`;
            
            document.getElementById('detailContent').innerHTML = html;
            document.getElementById('artifactDetail').classList.add('visible');
        }
        
        function closeDetail() {
            document.getElementById('artifactDetail').classList.remove('visible');
        }
        
        window.closeDetail = closeDetail;
        
        function onMouseDown(e) {
            isDragging = true;
            previousMousePosition = { x: e.clientX, y: e.clientY };
        }
        
        function onMouseMove(e) {
            if (isDragging) {
                const deltaX = e.clientX - previousMousePosition.x;
                const deltaY = e.clientY - previousMousePosition.y;
                
                scene.rotation.y += deltaX * 0.005;
                scene.rotation.x += deltaY * 0.005;
                
                previousMousePosition = { x: e.clientX, y: e.clientY };
            }
        }
        
        function onMouseUp() {
            isDragging = false;
        }
        
        function onWheel(e) {
            e.preventDefault();
            camera.position.z += e.deltaY * 0.01;
            camera.position.z = Math.max(5, Math.min(25, camera.position.z));
        }
        
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }
        
        function animate() {
            requestAnimationFrame(animate);
            
            if (!isDragging) {
                scene.rotation.y += 0.001;
            }
            
            const time = Date.now() * 0.001;
            nodes.forEach((node, i) => {
                const scale = 1 + Math.sin(time + i * 0.5) * 0.1;
                node.scale.set(scale, scale, scale);
            });
            
            renderer.render(scene, camera);
        }
        
        init();
    </script>
</body>
</html>